<!-- Sidebar Navigation -->
<div class="sidebar-card">
  <h3>Navigation</h3>
  <nav>
    <ul class="navigation-list">
      <li><a href="{{ '/' | relative_url }}" {% if page.url == '/' %}class="current"{% endif %}>üè† Home</a></li>
      {%- for nav_item in site.data.navigation.main -%}
        <li>
          <a href="{{ nav_item.url | relative_url }}" 
             {% if page.url == nav_item.url or (nav_item.url != "/" and page.url contains nav_item.url) %}class="current"{% endif %}>
            {{ nav_item.title | escape }}
          </a>
        </li>
      {%- endfor -%}
    </ul>
  </nav>
</div>

<!-- Quick Links -->
<div class="sidebar-card">
  <h4>Quick Links</h4>
  <ul class="navigation-list">
    <li><a href="https://github.com/Underwood-Inc/idling.app__UI" target="_blank">GitHub Repository</a></li>
    <li><a href="https://github.com/Underwood-Inc/idling.app__UI/discussions" target="_blank">Discussions</a></li>
    <li><a href="https://github.com/Underwood-Inc/idling.app__UI/issues" target="_blank">Issues</a></li>
    <li><a href="https://github.com/Underwood-Inc/idling.app__UI/releases" target="_blank">Releases</a></li>
  </ul>
</div>

<!-- Page Info -->
{% if page.date or page.last_modified_at %}
<div class="sidebar-card">
  <h4>Page Information</h4>
  <div class="page-info">
    {% if page.date %}
    <p><strong>Created:</strong> {{ page.date | date: "%B %d, %Y" }}</p>
    {% endif %}
    {% if page.last_modified_at %}
    <p><strong>Updated:</strong> {{ page.last_modified_at | date: "%B %d, %Y" }}</p>
    {% endif %}
    {% if page.author %}
    <p><strong>Author:</strong> {{ page.author }}</p>
    {% endif %}
  </div>
</div>
{% endif %}

<!-- Table of Contents -->
{% if page.toc != false and content contains '<h2' %}
<div class="sidebar-card">
  <h4>Table of Contents</h4>
  <div id="toc">
    <!-- TOC will be generated by JavaScript -->
  </div>
</div>

<script>
// Simple TOC generation
document.addEventListener('DOMContentLoaded', function() {
  const headings = document.querySelectorAll('.card-content h2, .card-content h3, .card-content h4');
  const toc = document.getElementById('toc');
  
  if (headings.length > 0 && toc) {
    const tocList = document.createElement('ul');
    tocList.className = 'navigation-list';
    
    headings.forEach(function(heading, index) {
      const id = 'heading-' + index;
      heading.id = id;
      
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#' + id;
      a.textContent = heading.textContent;
      a.style.paddingLeft = (parseInt(heading.tagName.charAt(1)) - 2) * 16 + 'px';
      
      li.appendChild(a);
      tocList.appendChild(li);
    });
    
    toc.appendChild(tocList);
  }
});
</script>
{% endif %} 