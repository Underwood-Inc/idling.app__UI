/**
 * Custom CSS for Docusaurus
 * Recreating Jekyll theming design system
 * Based on jekyll/_sass/_variables.scss and custom.scss
 */

/* Import the Fira Code font - using CSS import instead of SCSS */
@import 'https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap';

/* CSS Custom Properties - Recreating Jekyll variables */
:root {
  /* Brand Colors (from main app) */
  --hunyadi-yellow: #edae49;
  --dark-goldenrod: #c68214;
  --jasmine: #f9df74;
  --jonquil: #f5c60c;
  --cornflower-blue: #748ef9;
  --han-purple: #0c3bf5;
  --cornsilk: #f9edcc;
  --saffron: #ebc253;
  --chili-red: #ea2b1f;
  --rufous: #aa1a10;
  --seal-brown: #61210f;
  --black-bean: #44170b;
  --sea-of-stars: #0b3844;

  /* Brand System */
  --brand-primary: var(--hunyadi-yellow);
  --brand-primary-dark: var(--dark-goldenrod);
  --brand-primary-light: var(--jasmine);

  /* Dark Background Colors */
  --dark-bg-primary: #1a1611;
  --dark-bg-secondary: #252017;
  --dark-bg-tertiary: #2f2a1d;
  --dark-bg-quaternary: #3a3323;
  --dark-bg-code: #1e1b16;

  /* Text Colors */
  --text-primary: #ffffff;
  --text-secondary: #e6e6e6;
  --text-tertiary: #cccccc;
  --text-muted: #999999;

  /* Glass Effects */
  --glass-bg-light: rgba(255, 255, 255, 0.1);
  --glass-bg-medium: rgba(255, 255, 255, 0.15);
  --glass-border-light: rgba(255, 255, 255, 0.2);
  --glass-shadow-medium: 0 8px 32px rgba(0, 0, 0, 0.12);
  --glass-blur-medium: blur(12px);

  /* Font System */
  --font-family-base: 'Fira Code', 'SF Mono', 'Monaco', 'Inconsolata',
    'Roboto Mono', monospace;

  /* Docusaurus Color Mode Overrides */
  --ifm-color-primary: var(--hunyadi-yellow);
  --ifm-color-primary-dark: var(--dark-goldenrod);
  --ifm-color-primary-darker: #b8750f;
  --ifm-color-primary-darkest: #966112;
  --ifm-color-primary-light: var(--jasmine);
  --ifm-color-primary-lighter: #fae080;
  --ifm-color-primary-lightest: #fbe68c;

  /* Dark mode backgrounds */
  --ifm-background-color: var(--dark-bg-primary);
  --ifm-background-surface-color: var(--dark-bg-secondary);
  --ifm-navbar-background-color: var(--dark-bg-secondary);
  --ifm-footer-background-color: var(--dark-bg-tertiary);

  /* Typography */
  --ifm-font-family-base: var(--font-family-base);
  --ifm-font-family-monospace: var(--font-family-base);
  --ifm-code-font-size: 95%;

  /* Spacing */
  --ifm-spacing-horizontal: 1.5rem;
  --ifm-spacing-vertical: 1.5rem;
}

/* Global Styles */
* {
  font-family: var(--font-family-base) !important;
}

html[data-theme='dark'] {
  --ifm-color-content: var(--text-primary);
  --ifm-color-content-secondary: var(--text-secondary);
  --ifm-heading-color: var(--text-primary);
  --ifm-link-color: var(--brand-primary);
  --ifm-link-hover-color: var(--brand-primary-light);
}

/* Main Content Cards - Glass Effect */
.main-wrapper,
.docusaurus-wrapper {
  background: var(--dark-bg-primary);
}

article {
  background: var(--glass-bg-light);
  backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
  box-shadow: var(--glass-shadow-medium);
  padding: 2rem;
  margin: 1rem 0;
}

/* Navigation Styling */
.navbar {
  background: var(--glass-bg-medium) !important;
  backdrop-filter: var(--glass-blur-medium);
  border-bottom: 1px solid var(--glass-border-light);
  box-shadow: var(--glass-shadow-medium);
}

.navbar__title {
  color: var(--brand-primary) !important;
  font-weight: 600;
}

.navbar__item {
  color: var(--text-secondary) !important;
}

.navbar__link:hover {
  color: var(--brand-primary) !important;
}

/* Sidebar Styling */
.theme-doc-sidebar-container {
  background: var(--glass-bg-light);
  backdrop-filter: var(--glass-blur-medium);
  border-right: 1px solid var(--glass-border-light);
}

.theme-doc-sidebar-menu {
  font-family: var(--font-family-base) !important;
}

.menu__link {
  color: var(--text-secondary);
  border-radius: 8px;
  transition: all 0.2s ease;
}

.menu__link:hover {
  background: var(--glass-bg-medium);
  color: var(--brand-primary);
}

.menu__link--active {
  background: var(--brand-primary);
  color: var(--dark-bg-primary);
  font-weight: 600;
}

/* Code Blocks */
.prism-code {
  background: var(--dark-bg-code) !important;
  border: 1px solid var(--glass-border-light);
  border-radius: 8px;
  font-family: var(--font-family-base) !important;
}

code {
  background: var(--dark-bg-code);
  color: var(--brand-primary-light);
  font-family: var(--font-family-base) !important;
  border-radius: 4px;
  padding: 0.2rem 0.4rem;
}

/* Tables */
table {
  background: var(--glass-bg-light);
  backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-light);
  border-radius: 8px;
  overflow: hidden;
}

th {
  background: var(--dark-bg-tertiary);
  color: var(--brand-primary);
  font-weight: 600;
}

td {
  border-color: var(--glass-border-light);
}

/* Alerts/Admonitions */
.alert {
  border-radius: 8px;
  border-left: 4px solid var(--brand-primary);
  background: var(--glass-bg-light);
  backdrop-filter: var(--glass-blur-medium);
}

.alert--info {
  border-left-color: var(--cornflower-blue);
}

.alert--warning {
  border-left-color: var(--saffron);
}

.alert--danger {
  border-left-color: var(--chili-red);
}

/* API Documentation Styling */
.openapi-explorer {
  background: var(--glass-bg-light);
  backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
  padding: 1.5rem;
}

.openapi-tabs__tab {
  background: var(--dark-bg-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--glass-border-light);
}

.openapi-tabs__tab--active {
  background: var(--brand-primary);
  color: var(--dark-bg-primary);
}

/* Footer */
.footer {
  background: var(--dark-bg-tertiary);
  border-top: 1px solid var(--glass-border-light);
}

.footer__title {
  color: var(--brand-primary);
}

.footer__item {
  color: var(--text-secondary);
}

.footer__link-item:hover {
  color: var(--brand-primary);
}

/* Responsive Design */
@media (max-width: 768px) {
  article {
    padding: 1rem;
    margin: 0.5rem 0;
  }

  .navbar {
    padding: 0.5rem 1rem;
  }
}

/* Search */
.DocSearch-Button {
  background: var(--glass-bg-medium) !important;
  border: 1px solid var(--glass-border-light) !important;
  color: var(--text-secondary) !important;
}

.DocSearch-Button:hover {
  background: var(--glass-bg-light) !important;
  color: var(--brand-primary) !important;
}

/* Pagination */
.pagination-nav {
  margin: 2rem 0;
}

.pagination-nav__link {
  background: var(--glass-bg-light);
  backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-light);
  border-radius: 8px;
  transition: all 0.2s ease;
}

.pagination-nav__link:hover {
  background: var(--glass-bg-medium);
  border-color: var(--brand-primary);
}

/* Breadcrumbs */
.breadcrumbs {
  background: var(--glass-bg-light);
  backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-light);
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 1rem;
}

.breadcrumbs__link {
  color: var(--text-secondary);
}

.breadcrumbs__link:hover {
  color: var(--brand-primary);
}

/* Mermaid Diagram Styling - Enhanced with Pan/Zoom Support */
.mermaid {
  background: var(--glass-bg-light) !important;
  backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
  padding: 1.5rem;
  margin: 1.5rem 0;
  overflow: hidden;
  position: relative;

  /* Enable smooth interactions */
  transition: all 0.3s ease;
}

.mermaid:hover {
  border-color: var(--brand-primary);
  box-shadow:
    var(--glass-shadow-medium),
    0 0 20px rgba(237, 174, 73, 0.2);
}

/* SVG container styling */
.mermaid svg {
  max-width: 100% !important;
  height: auto !important;
  background: transparent !important;

  /* Enhanced pan and zoom experience */
  cursor: grab;
}

.mermaid svg:active {
  cursor: grabbing;
}

/* Node styling */
.mermaid .node rect,
.mermaid .node circle,
.mermaid .node ellipse,
.mermaid .node polygon {
  fill: var(--dark-bg-secondary) !important;
  stroke: var(--brand-primary) !important;
  stroke-width: 2px !important;
}

.mermaid .node text {
  fill: var(--text-primary) !important;
  font-family: var(--font-family-base) !important;
  font-size: 14px !important;
  font-weight: 500 !important;
}

/* Edge/Arrow styling */
.mermaid .edgePath path {
  stroke: var(--brand-primary-light) !important;
  stroke-width: 2px !important;
  fill: none !important;
}

.mermaid .arrowheadPath {
  fill: var(--brand-primary-light) !important;
  stroke: var(--brand-primary-light) !important;
}

/* Label styling */
.mermaid .edgeLabel {
  background-color: var(--dark-bg-primary) !important;
  color: var(--text-secondary) !important;
  font-family: var(--font-family-base) !important;
  font-size: 12px !important;
  border-radius: 4px !important;
  padding: 2px 6px !important;
}

/* Sequence diagram specific styling */
.mermaid .actor {
  fill: var(--dark-bg-secondary) !important;
  stroke: var(--brand-primary) !important;
  stroke-width: 2px !important;
}

.mermaid .actor-line {
  stroke: var(--brand-primary-light) !important;
  stroke-width: 1px !important;
  stroke-dasharray: 3, 3 !important;
}

.mermaid .messageLine0,
.mermaid .messageLine1 {
  stroke: var(--brand-primary) !important;
  stroke-width: 2px !important;
}

.mermaid .messageText {
  fill: var(--text-primary) !important;
  font-family: var(--font-family-base) !important;
  font-size: 12px !important;
}

/* Class diagram styling */
.mermaid .classBox {
  fill: var(--dark-bg-secondary) !important;
  stroke: var(--brand-primary) !important;
  stroke-width: 2px !important;
}

.mermaid .classText {
  fill: var(--text-primary) !important;
  font-family: var(--font-family-base) !important;
}

/* State diagram styling */
.mermaid .stateBox {
  fill: var(--dark-bg-secondary) !important;
  stroke: var(--brand-primary) !important;
  stroke-width: 2px !important;
}

.mermaid .stateText {
  fill: var(--text-primary) !important;
  font-family: var(--font-family-base) !important;
}

/* Gantt chart styling */
.mermaid .section0,
.mermaid .section1,
.mermaid .section2,
.mermaid .section3 {
  fill: var(--brand-primary) !important;
  opacity: 0.8 !important;
}

.mermaid .taskText {
  fill: var(--text-primary) !important;
  font-family: var(--font-family-base) !important;
  font-size: 12px !important;
}

/* Timeline styling */
.mermaid .timeline-item {
  fill: var(--dark-bg-secondary) !important;
  stroke: var(--brand-primary) !important;
}

/* Gitgraph styling */
.mermaid .commit-id,
.mermaid .commit-msg,
.mermaid .branch-label {
  fill: var(--text-primary) !important;
  font-family: var(--font-family-base) !important;
}

/* User journey styling */
.mermaid .journey-section {
  fill: var(--dark-bg-secondary) !important;
  stroke: var(--brand-primary) !important;
}

/* Mermaid diagram container for better responsiveness */
.mermaid-container {
  position: relative;
  width: 100%;
  margin: 1.5rem 0;
}

/* Add zoom controls overlay */
.mermaid-container::after {
  content: '🔍 Click and drag to pan • Scroll to zoom';
  position: absolute;
  top: 8px;
  right: 12px;
  background: rgba(0, 0, 0, 0.7);
  color: var(--text-secondary);
  font-size: 11px;
  font-family: var(--font-family-base);
  padding: 4px 8px;
  border-radius: 4px;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
  z-index: 10;
}

.mermaid-container:hover::after {
  opacity: 1;
}

/* Dark mode specific Mermaid overrides */
html[data-theme='dark'] .mermaid {
  /* Ensure dark theme consistency */
  filter: brightness(1) contrast(1.1);
}

/* Override any light theme remnants */
html[data-theme='dark'] .mermaid * {
  color: var(--text-primary) !important;
}

/* Flowchart specific dark mode */
html[data-theme='dark'] .mermaid .flowchart-link {
  stroke: var(--brand-primary-light) !important;
}

/* Sequence diagram dark mode */
html[data-theme='dark'] .mermaid .activation0,
html[data-theme='dark'] .mermaid .activation1,
html[data-theme='dark'] .mermaid .activation2 {
  fill: var(--brand-primary) !important;
  opacity: 0.6 !important;
}

/* Responsive Mermaid diagrams */
@media (max-width: 768px) {
  .mermaid {
    padding: 1rem;
    margin: 1rem 0;
  }

  /* Better mobile experience */
  .mermaid svg {
    min-height: 200px;
  }

  /* Adjust text sizes for mobile */
  .mermaid text {
    font-size: 12px !important;
  }

  .mermaid .nodeLabel,
  .mermaid .edgeLabel {
    font-size: 11px !important;
  }

  .mermaid-container::after {
    font-size: 10px;
    padding: 3px 6px;
  }
}
