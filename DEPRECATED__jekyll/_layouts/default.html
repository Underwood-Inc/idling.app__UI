<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">

  {%- include head.html -%}

  <body>
    <!-- Generate navigation data -->
    {%- include navigation-generator.liquid -%}
    
    <!-- Navigation Progress Loader -->
    {%- include navigation-loader.html -%}

    {%- include header.html -%}

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="content-grid">
          <article class="main-content-card">
            {% if page.title %}
            <header class="card-header">
              <h1>{{ page.title | escape }}</h1>
              {% if page.description %}
              <p class="page-description">{{ page.description }}</p>
              {% endif %}
            </header>
            {% endif %}
            
            <div class="card-content">
              {{ content }}
            </div>
            
            {% if page.date or page.author or page.last_modified_at %}
            <footer class="card-footer">
              <div class="page-meta">
                {% if page.date %}
                <span class="badge">{{ page.date | date: "%B %d, %Y" }}</span>
                {% endif %}
                {% if page.author %}
                <span class="badge badge--secondary">{{ page.author }}</span>
                {% endif %}
              </div>
              {% if page.last_modified_at %}
              <div class="page-updated">
                <small>Last updated: {{ page.last_modified_at | date: "%B %d, %Y" }}</small>
              </div>
              {% endif %}
            </footer>
            {% endif %}
          </article>
          
          {% if page.sidebar != false %}
          <aside class="sidebar">
            {% include sidebar.html %}
          </aside>
          {% endif %}
        </div>
      </div>
    </main>

    {%- include footer.html -%}

  </body>

</html> 